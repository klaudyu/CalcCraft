/* For column headers */
th::before {
    content: attr(data-col-label);
    position: absolute;
    font-size: smaller;
    color: gray;
    transform: translate(0px, -12px); 
}

/* For row headers for td */
tr td:first-child::before {
    content: attr(data-row-label);
    position: absolute;
    font-size: smaller;
    color: gray;
    #background-color:white;
    transform: translate(-16px, 0px);  
}


/**********formula cell************/
/*light theme*/
.markdown-rendered .formula-cell-borderenabled {
  #border:var(--CalcCraft-formula-borders);
  border:2px double;
}
.markdown-rendered .formula-cell-colorenabled {
  background-color: var(--CalcCraft_formula_background_color_light)!important ;  /* Light gray background */
  color:var(--CalcCraft_formula_font_color_light)!important;
  #border:2px double;
  #border:var(--CalcCraft-formula-borders);
  #font-style: italic;  /* Italic text */
}
/*dark theme*/
.theme-dark .markdown-rendered .formula-cell-colorenabled{
    background-color: var(--CalcCraft_formula_background_color_dark)!important;   
    color:var(--CalcCraft_formula_font_color_dark)!important;
}



/**********matrix  cell************/


.markdown-rendered .matrix-cell-colorenabled {
  background-color: var(--CalcCraft_formula_background_matrix_light)!important ;  /* Light gray background */
  color:var(--CalcCraft_formula_font_matrix_light)!important;
  #border:2px double;
  #font-style: italic;  /* Italic text */
}
.theme-dark .markdown-rendered .matrix-cell-colorenabled {
  background-color: var(--CalcCraft_formula_background_matrix_dark)!important ;  /* Light gray background */
  color:var(--CalcCraft_formula_font_matrix_dark)!important;
}

td.label-cell.column {
    border: none;
    color: gray;
    font-size: 80%;
    text-align: center;
    vertical-align: bottom;
    padding:.1em;
}

td.label-cell.row {
    border: none !important;
    color: gray;
    font-size: 80%;
    text-align: right;
    vertical-align: middle;
    padding:.2em;
}


/**************** error cells**************/
.markdown-rendered .error-cell-colorenabled{
    background-color: var(--CalcCraft_formula_background_error_light)!important ; 
    color:var(--CalcCraft_formula_font_error_light)!important
}
.theme-dark .markdown-rendered .error-cell-colorenabled{
    background-color: var(--CalcCraft_formula_background_error_dark)!important ;
    color:var(--CalcCraft_formula_font_error_dark)!important;
}


/*********** parents cells***************/
.markdown-rendered .cell-parents-highlight {
    background-color: var(--CalcCraft_formula_background_parents_light)!important;
    color:var(--CalcCraft_formula_font_parents_light)!important;
}
.theme-dark .markdown-rendered .formula-cell.error-cell.cell-parents-highlight,
.theme-dark  .markdown-rendered .cell-parents-highlight {
    background-color: var(--CalcCraft_formula_background_parents_dark)!important;
    color:var(--CalcCraft_formula_font_parents_dark)!important;
}


/* children cells*/
/* light theme*/
.markdown-rendered .formula-cell.error-cell.cell-children-highlight,
.markdown-rendered .cell-children-highlight {
    background-color: var(--CalcCraft_formula_background_children_light)!important;
    color:var(--CalcCraft_formula_font_children_light)!important;
}
.theme-dark .markdown-rendered .formula-cell.error-cell.cell-children-highlight,
.theme-dark  .markdown-rendered .cell-children-highlight {
    background-color: var(--CalcCraft_formula_background_children_dark)!important;
    color:var(--CalcCraft_formula_font_children_dark)!important;
}



/*active class*/
.markdown-rendered td.cell-active{
    text-decoration: underline;
}




/* Hide original text when showing computed value */
.cm-table-widget .table-cell-wrapper.calc-overlay-cell:not(:focus-within) {
    position: relative; 
    color: transparent;
}

/* Show computed value as overlay */
.cm-table-widget .table-cell-wrapper.calc-overlay-cell:not(:focus-within)::after {
    content: attr(data-calc-display);
    position: absolute; 
    inset: 0;
    display: flex; 
    align-items: center; 
    white-space: pre;
    color: var(--text-normal); 
    pointer-events: none;
    padding: 0 4px; /* Match table cell padding */
}



.table-wrapper table[data-labels-added]{
    margin-left:1em;
}


/* READING MODE - INLINE LABELS */
.el-table table[data-labels-added] tbody tr td[data-row-number]::before {
    content: attr(data-row-number);
    display: inline-block;
    color: #888;
    font-size: 10px;
    font-weight: normal;
    width: 12px;
    text-align: right;
    margin-right: 6px;
    background-color: #f5f5f5;
    border-radius: 2px;
    padding: 1px 2px;
    position: static;
}

.el-table table[data-labels-added] thead th[data-col-letter]::before {
    content: attr(data-col-letter);
    display: inline-block;
    color: #888;
    font-size: 10px;
    font-weight: normal;
    margin-right: 6px;
    background-color: #f5f5f5;
    border-radius: 2px;
    padding: 1px 2px;
}

/* EDIT MODE - TRY TO MATCH THE READING MODE STYLE */
.table-wrapper table[data-labels-added] tbody tr td[data-row-number]::before {
    content: attr(data-row-number);
    left:-.5em;
    display: inline-block;
    color: #888;
    background-color: #f5f5f5;
    font-size: 10px;
    font-weight: normal;
    width: 12px;
    text-align: left;
    border-radius: 2px;
    padding: 1px 2px;
}

.table-wrapper table[data-labels-added] thead th[data-col-letter]::before {
    content: attr(data-col-letter);
    display: inline-block;
    color: #888;
    font-size: 10px;
    font-weight: normal;
    margin-right: 6px;
    background-color: #f5f5f5;
    border-radius: 2px;
    padding: 1px 2px;
 

.calc-craft-label {
    background-color: #f8f9fa ;
    color: #6c757d ;
    font-size: 10px ;
    font-weight: normal ;
    text-align: center ;
    padding: 2px 4px ;
    border: 1px solid #dee2e6 ;
    min-width: 20px;
}

.calc-craft-row {
    text-align: right ;
}calc-craft-row {
    text-align: right ;
}